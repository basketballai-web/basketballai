<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="robots" content="noindex, nofollow"> 
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>BasketbolAi - Robot Tahminleri</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0f1720;
    --panel:#0b1620;
    --card-bg:#0f2230;
    --accent-start:#7b2ff7;
    --accent-end:#3b8dff;
    --orange:#ff7a00;
    --tech-blue:#3ba4ff;
    --success:#28d07b;
    --warning:#ffd460;
    --muted:#96a0b5;
    --text:#e6eef8;
    --radius:18px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:'Inter',system-ui,Segoe UI,Roboto,-apple-system,Helvetica,Arial;
    background: linear-gradient(180deg, rgba(23,12,37,0.9), rgba(12,12,20,1));
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-smoothing:grayscale;
    padding:18px;
    display:flex;justify-content:center;
  }
  .container{
    width:100%;
    max-width:420px;
    border-radius:26px;
    overflow:hidden;
    background:linear-gradient(90deg,var(--accent-start),var(--accent-end));
    padding:14px;
    box-shadow:0 10px 30px rgba(0,0,0,0.6);
  }
  .inner{
    border-radius:16px;
    background: 
      repeating-linear-gradient(90deg, #111e2b, #111e2b 1px, transparent 1px, transparent 100px),
      repeating-linear-gradient(0deg, #111e2b, #111e2b 1px, transparent 1px, transparent 100px),
      var(--panel); 
    background-blend-mode: overlay; 
    background-size: 100% 100%, 100% 100%, 100% 100%;
    padding:14px;
  }
  .header{
    display:flex;
    flex-direction: column; 
    align-items:center;
    justify-content:center; 
    margin-bottom:12px;
  }
  .title{
    font-weight:800;
    font-size:18px; 
    line-height:1.2;
    color:var(--text);
    white-space: nowrap; 
    margin-bottom: 4px; 
  }
  .powered-by-ai {
    font-size: 12px; 
    font-weight: 600;
    color: var(--tech-blue); 
    opacity: 0.8;
  }
  /* SEKME DÃœZENLEMESÄ° */
  .tabs{
    display:flex;
    gap:6px;
    margin:14px 0; 
    justify-content: space-between;
    overflow: hidden; 
  } 
  .tab{
    flex:1;
    padding:10px 4px; /* Sekme yazÄ±larÄ±nÄ± sÄ±ÄŸdÄ±rmak iÃ§in padding daraltÄ±ldÄ± */
    border-radius:12px;
    text-align:center;
    font-weight:700;
    cursor:pointer;
    font-size:12px; 
    /* Pasif Sekme Stili (Hafif Åžeffaf Koyu Zemin) */
    background:rgba(255,255,255,0.08); 
    color:var(--text);
    white-space: nowrap; 
    min-width: 0; 
    transition: background-color 0.3s, box-shadow 0.3s, background 0.3s;
  }
  /* Aktif Sekme Stili (Mavili Morlu GeÃ§iÅŸ) */
  .tab.active{
    background: linear-gradient(90deg, var(--accent-start), var(--accent-end)); 
    color: #fff; 
    box-shadow:0 6px 18px rgba(0,0,0,0.6); 
    border:2px solid rgba(255,255,255,0.03);
    position: relative;
    z-index: 1; 
  }
  .content{padding-bottom:18px}
  .match-card{
    background:var(--card-bg);border-radius:12px;padding:12px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.02)
  }
  .match-head{display:flex;justify-content:space-between;align-items:flex-start;gap:8px;margin-bottom:12px}
  .match-title{font-weight:700;font-size:16px}
  
  .match-datetime {
    font-weight: 800; 
    color: var(--warning); 
    font-size: 14px; 
    display: block; 
    margin-top: 4px;
    margin-bottom: 6px; 
  }

  .risk-ev-wrap{display:flex;flex-direction:column;align-items:flex-end;gap:4px;}
  .risk-text{font-size:12px;color:var(--muted);display:flex;align-items:center;gap:6px;} 
  .risk-dot{width:10px;height:10px;border-radius:50%;display:inline-block;}
  .bet-preference{font-weight:700;color:var(--accent-end);font-size:14px;margin-top:8px;}
  .bet{
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.1));
    border-radius:10px;padding:12px;margin-top:8px;border:1px solid rgba(255,255,255,0.02)
  }
  .bet .type{font-weight:700;color:var(--accent-start);font-size:13px;margin-bottom:8px}
  .bet .odd{font-size:28px;font-weight:800;margin-bottom:6px;color:var(--warning);}
  .muted-small{color:var(--muted);font-size:13px}
  .progress-wrap{background:rgba(255,255,255,0.04);height:10px;border-radius:999px;margin-top:12px;overflow:hidden}
  .progress-bar{height:100%;width:0%;background:linear-gradient(90deg,var(--success),#12b76a);transition:width 600ms ease}
  .confidence-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px;color:var(--muted);font-size:13px}
  /* BaÅŸarÄ± OranlarÄ± iÃ§in CSS */
  .success-rates{
    display:flex;
    justify-content: space-between;
    align-items: center; 
    margin-top: 10px; 
  }
  .success-rate-item{
      flex: 1; 
      min-width: 45%; 
  }
  .success-rate-item:nth-child(2){
      text-align: right; 
  }
  /* Kupon kartÄ± iÃ§in Ã¶zel dÃ¼zenleme */
  .kupon-card-content {
      display: flex;
      flex-direction: column;
      align-items: center; 
  }
  .kupon-risk-indicator {
      margin-bottom: 20px;
  }
  .kupon-predictions {
      width: 100%;
      text-align: left; 
      font-size: 14px; 
      font-weight: 600;
      margin-bottom: 20px;
      line-height: 1.8;
      padding-left: 12px; 
      padding-right: 12px; 
  }
  .kupon-predictions > div {
      display: block;
      overflow-wrap: break-word; 
      color: var(--warning); 
  }
  .kupon-confidence-row {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--muted);
      font-size: 13px;
      padding-top: 8px;
  }
  /* SÄ°STEM ONLÄ°NE GÃ–STERGESÄ° */
  @keyframes pulse-online {
    0% { box-shadow: 0 0 0 0 rgba(40, 208, 123, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(40, 208, 123, 0); }
    100% { box-shadow: 0 0 0 0 rgba(40, 208, 123, 0); }
  }
  .system-online-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: flex-end; 
  }
  .online-dot {
    width: 10px;
    height: 10px;
    background-color: var(--success);
    border-radius: 50%;
    animation: pulse-online 1.5s infinite;
  }

  /* KUPON KARTI Ä°Ã‡Ä°N TARÄ°H SAAT STÄ°LÄ° */
  .kupon-date-time {
    font-size: 13px; 
    color: var(--warning); 
    font-weight: 800; 
    margin-bottom: 10px;
    display: block;
    width: 100%;
    text-align: center;
  }
</style>
</head>
<body>
<div class="container" role="application" aria-label="BasketballAi WebApp">
  <div class="inner">
    <div class="header">
        <div class="title">BasketbolAi - Robot Tahminleri</div>
        <div class="powered-by-ai">Powered by AI</div>
    </div>

    <div class="success-rates"> 
      <div class="success-rate-item">
        <div style="font-size:12px;color:var(--muted)">BaÅŸarÄ± OranÄ±</div>
        <div style="font-weight:800;font-size:18px;margin-top:4px">%89</div>
      </div>
      <div class="success-rate-item system-online-indicator">
        <div style="font-size:12px;color:var(--success); font-weight:700;">SÄ°STEM ONLÄ°NE</div>
        <div class="online-dot"></div>
      </div>
    </div>

    <div class="tabs" role="tablist" aria-label="Ana Sekmeler">
      <div class="tab" data-tab="handikap">ðŸŽ¯ Taraf Tahmini</div> 
      <div class="tab" data-tab="altust">ðŸ“Š Alt/Ãœst Tahmini</div> 
      <div class="tab" data-tab="kuponlar">ðŸ”¥ Kuponlar</div> 
    </div>

    <div class="content" id="content">
      </div>

  </div>
</div>

<script>
// --- VERÄ° PARÃ‡ALAMA VE DÃ–NÃœÅžÃœM ---

// Not: Verilerinizin tarih ve saat formatÄ± 'DD.MM.YYYY - HH:mm' olduÄŸundan, 
// ayÄ±rmak iÃ§in bu formatÄ± kullanÄ±yoruz. TÃ¼m saatler UTC+3'e gÃ¶re ayarlanmÄ±ÅŸtÄ±r.

const RAW_DATA = [
    // [TARÄ°H-SAAT(UTC+3), "MAÃ‡ ADI", TarafTahmini, TarafGÃ¼ven, AltÃœstTahmini, AltÃœstGÃ¼ven, TarafOran, BaremSayi, AltÃœstOran]
    ["15.10.2025 - 11:30", "Tasmania JackJumpers vs Sydney Kings", "Ev", 56, "Alt", 53, 1.80, 178.5, 1.70],
    ["15.10.2025 - 12:15", "Meralco vs Blackwater", "Ev", 78, "Alt", 64, 1.16, 191.5, 1.70],
    ["15.10.2025 - 13:00", "LG Sakers vs Anyang KGC", "Ev", 67, "Alt", 55, 1.28, 148.5, 1.57],
    ["15.10.2025 - 13:05", "Shimane Susanoo vs Saga Ballooners", "Ev", 78, "Alt", 74, 1.15, 160.5, 1.66],
    ["15.10.2025 - 13:05", "Gunma Crane vs Levanga Hokkaido", "Ev", 75, "Alt", 69, 1.12, 156.5, 1.63],
    ["15.10.2025 - 13:05", "Utsunomiya Brex vs Chiba Jets", "Ev", 71, "Ãœst", 72, 1.67, 162.5, 1.59],
    ["15.10.2025 - 13:05", "Shiga Lake Stars vs Ryukyu Golden Kings", "Dep", 86, "Ãœst", 78, 1.05, 160.5, 1.62],
    ["15.10.2025 - 13:05", "San-En Neophoenix vs Altiri Chiba", "Ev", 74, "Alt", 70, 1.11, 166.5, 1.65],
    ["15.10.2025 - 13:05", "Yokohama B Corsairs vs Koshigaya Alphas", "Ev", 77, "Alt", 71, 1.14, 150.5, 1.62],
    ["15.10.2025 - 13:05", "Toyama Grouses vs Diamond Dolphins", "Dep", 85, "Ãœst", 73, 1.06, 165.5, 1.65],
    ["15.10.2025 - 13:05", "Kyoto Hannarizu vs Hiroshima Dragonflies", "Dep", 81, "Ãœst", 74, 1.26, 168.5, 1.65],
    ["15.10.2025 - 13:05", "Fighting Eagles vs Osaka Evessa", "Dep", 53, "Alt", 54, 1.67, 161.5, 1.59],
    ["15.10.2025 - 13:05", "Nagasaki Velca vs Aisin Seahorses", "Ev", 66, "Ãœst", 59, 1.39, 162.5, 1.68],
    ["15.10.2025 - 13:05", "Brave Thunders vs Sendai 89ers", "Ev", 61, "Alt", 58, 1.80, 163.5, 1.63],
    ["15.10.2025 - 13:05", "Alvark Tokyo vs Akita Northern Happinets", "Ev", 71, "Alt", 61, 1.45, 147.5, 1.60],
    ["15.10.2025 - 13:05", "Ibaraki Robots vs SR Shibuya", "Dep", 82, "Ãœst", 77, 1.10, 150.5, 1.68],
    ["15.10.2025 - 13:30", "Perth Wildcats vs Brisbane Bullets", "Ev", 89, "Alt", 80, 1.06, 183.5, 1.69],
    ["15.10.2025 - 14:30", "TNT Katropa vs Barangay Ginebra", "Ev", 68, "Ãœst", 62, 1.47, 175.5, 1.56],
    ["15.10.2025 - 17:30", "Parma Perm vs Lokomotiv Kuban", "Dep", 77, "Ãœst", 65, 1.27, 167.5, 1.59],
    ["15.10.2025 - 18:00", "Petkim Spor vs CSM Corona Brasov", "Dep", 83, "Alt", 69, 1.66, 164.5, 1.60],
    ["15.10.2025 - 18:00", "BC Kutaisi vs Basket Brno", "Ev", 64, "Alt", 58, 1.75, 166.5, 1.62],
    ["15.10.2025 - 19:00", "Lietkabelis vs Ulm", "Dep", 74, "Ãœst", 68, 1.57, 172.5, 1.70],
    ["15.10.2025 - 19:00", "Sabah Baku vs Alba Berlin", "Dep", 87, "Ãœst", 79, 1.59, 167.5, 1.59],
    ["15.10.2025 - 19:00", "CSM Oradea vs AEK Larnaca", "Dep", 88, "Ãœst", 80, 1.64, 155.5, 1.63],
    ["15.10.2025 - 19:00", "CS Valcea 1924 vs Rasta Vechta", "Dep", 73, "Ãœst", 66, 1.33, 168.5, 1.65],
    ["15.10.2025 - 19:30", "AEK Athens vs Szolnoki Olaj KK", "Dep", 85, "Ãœst", 72, 1.59, 163.5, 1.59],
    ["15.10.2025 - 19:30", "Start Lublin vs KK Bosna Royal", "Ev", 65, "Alt", 57, 1.37, 165.5, 1.67],
    ["15.10.2025 - 19:30", "Braunschweig vs Anwil Wloclawek", "Ev", 62, "Alt", 56, 1.66, 166.5, 1.66],
    ["15.10.2025 - 19:30", "Bakken Bears vs Anorthosis Famagusta", "Dep", 86, "Ãœst", 74, 1.64, 166.5, 1.63],
    ["15.10.2025 - 19:30", "Panionios vs JL Bourg", "Dep", 80, "Ãœst", 68, 1.26, 166.5, 1.71],
    ["15.10.2025 - 19:30", "CSKA Moskova vs Nizhny Novgorod", "Ev", 92, "Alt", 82, 1.45, 165.5, 1.65], 
    ["15.10.2025 - 19:30", "Heidelberg vs Rytas Vilnius", "Dep", 70, "Ãœst", 63, 1.38, 176.5, 1.59],
    ["15.10.2025 - 20:00", "Slask Wroclaw vs Cluj Napoca", "Dep", 71, "Ãœst", 64, 1.36, 176.5, 1.68],
    ["15.10.2025 - 20:00", "BeÅŸiktaÅŸ vs Chemnitz", "Ev", 76, "Alt", 59, 1.11, 167.5, 1.56],
    ["15.10.2025 - 20:00", "Reyer Venezia vs Neptunas", "Ev", 74, "Alt", 61, 1.15, 176.5, 1.69],
    ["15.10.2025 - 20:00", "Legia Warszawa vs Promitheas", "Ev", 68, "Alt", 58, 1.40, 168.5, 1.71],
    ["15.10.2025 - 20:00", "Zaragoza vs Falco Szombathely", "Dep", 86, "Ãœst", 72, 1.26, 173.5, 1.64],
    ["15.10.2025 - 20:00", "Dijon vs Reggiana", "Ev", 65, "Alt", 54, 1.19, 161.5, 1.65],
    ["15.10.2025 - 20:00", "BC Prievidza vs Keravnos", "Dep", 88, "Ãœst", 74, 1.58, 160.5, 1.63],
    ["15.10.2025 - 20:00", "Cedevita Zagreb vs Pelister Bitola", "Ev", 63, "Alt", 57, 1.25, 168.5, 1.65],
    ["15.10.2025 - 20:00", "USK Prag (K) vs UNI Girona (K)", "Dep", 85, "Ãœst", 72, 1.60, 148.5, 1.67],
    ["15.10.2025 - 20:00", "Flammes (K) vs Galatasaray (K)", "Ev", 66, "Alt", 54, 1.78, 142.5, 1.63],
    ["15.10.2025 - 20:15", "PAOK vs KB Trepca", "Dep", 88, "Ãœst", 73, 1.60, 161.5, 1.66],
    ["15.10.2025 - 21:00", "Trefl Sopot vs Neftchi IK", "Dep", 87, "Ãœst", 71, 1.64, 165.5, 1.63]
];

const NEW_KUPONLAR_DATA = [
    {
        title: "â­ PREMÄ°UM KUPON 1 (2.93)",
        matches: [
            { title: "Perth Wildcats vs Brisbane Bullets", time: "13:30", bet: "Ev", confidence: 89, odd: 1.06 },
            { title: "Shiga Lake Stars vs Ryukyu Golden Kings", time: "13:05", bet: "Ãœst", confidence: 78, odd: 1.62 },
            { title: "Meralco vs Blackwater", time: "12:15", bet: "Alt", confidence: 64, odd: 1.70 },
        ]
    },
    {
        title: "â­ PREMÄ°UM KUPON 2 (2.77)",
        matches: [
            { title: "Ibaraki Robots vs SR Shibuya", time: "13:05", bet: "Ãœst", confidence: 77, odd: 1.68 },
            { title: "Alvark Tokyo vs Akita Northern Happinets", time: "13:05", bet: "Alt", confidence: 61, odd: 1.60 },
            { title: "Yokohama B Corsairs vs Koshigaya Alphas", time: "13:05", bet: "Alt", confidence: 71, odd: 1.62 },
        ]
    },
    {
        title: "ðŸ† STANDART KUPON 1 (3.83)",
        matches: [
            { title: "TNT Katropa vs Barangay Ginebra", time: "14:30", bet: "Ãœst", confidence: 62, odd: 1.56 },
            { title: "BeÅŸiktaÅŸ vs Chemnitz", time: "20:00", bet: "Alt", confidence: 59, odd: 1.56 },
            { title: "LG Sakers vs Anyang KGC", time: "13:00", bet: "Alt", confidence: 55, odd: 1.57 },
        ]
    },
    {
        title: "ðŸ† STANDART KUPON 2 (3.84)",
        matches: [
            { title: "Utsunomiya Brex vs Chiba Jets", time: "13:05", bet: "Ãœst", confidence: 72, odd: 1.59 },
            { title: "Brave Thunders vs Sendai 89ers", time: "13:05", bet: "Alt", confidence: 58, odd: 1.63 },
            { title: "Start Lublin vs KK Bosna Royal", time: "19:30", bet: "Alt", confidence: 57, odd: 1.67 },
        ]
    },
    {
        title: "ðŸš€ HIGH VALUE KUPON 1 (4.48)",
        matches: [
            { title: "Tasmania JackJumpers vs Sydney Kings", time: "11:30", bet: "Alt", confidence: 53, odd: 1.70 },
            { title: "BC Kutaisi vs Basket Brno", time: "18:00", bet: "Alt", confidence: 58, odd: 1.62 },
            { title: "Shiga Lake Stars vs Ryukyu Golden Kings", time: "13:05", bet: "Ãœst", confidence: 78, odd: 1.62 },
        ]
    },
    {
        title: "ðŸš€ HIGH VALUE KUPON 2 (4.53)",
        matches: [
            { title: "Flammes (K) vs Galatasaray (K)", time: "20:00", bet: "Alt", confidence: 54, odd: 1.63 },
            { title: "USK Prag (K) vs UNI Girona (K)", time: "20:00", bet: "Ãœst", confidence: 72, odd: 1.67 },
            { title: "PAOK vs KB Trepca", time: "20:15", bet: "Ãœst", confidence: 73, odd: 1.66 },
        ]
    },
];

// Genel baÅŸarÄ± oranÄ±nÄ± belirlemek iÃ§in Ã¶rnek bir tarih kullanÄ±yoruz
const DATE_INFO = "15.10.2025 Ã‡arÅŸamba"; 

// Risk ve GÃ¼ven DÃ¼zeyi Belirleme Fonksiyonu
function getRisk(confidence) {
    if (confidence >= 85) return "DÃœÅžÃœK (A+)";
    if (confidence >= 80) return "DÃœÅžÃœK (A)";
    if (confidence >= 70) return "ORTA (B)";
    return "YÃœKSEK (C)"; 
}

// Veriyi formatlama iÅŸlevi 
function formatData(data) {
    const tarafList = [];
    const altUstList = [];
    
    data.forEach(row => {
        // Tarih ve Saati ayÄ±rÄ±yoruz
        const [dateTime, title, msTahmin, msGuven, altUstTahmin, altUstGuven, msOran, baremSayi, altUstOran] = row;
        const [date, time] = dateTime.split(' - ');
        
        // Taraf Tahmini Listesi
        tarafList.push({ 
            title: title, 
            date: date, 
            time: time, 
            bet: msTahmin, // Ev/Dep tercihi
            odd: parseFloat(msOran), 
            confidence: parseInt(msGuven), 
            risk: getRisk(parseInt(msGuven)) 
        });

        // Alt/Ãœst Tahmini Listesi
        altUstList.push({ 
            title: title, 
            date: date, 
            time: time, 
            bet: `${altUstTahmin} (${baremSayi})`, // Ãœst (175.5)
            odd: parseFloat(altUstOran), 
            confidence: parseInt(altUstGuven), 
            risk: getRisk(parseInt(altUstGuven)) 
        });
    });

    return { tarafList, altUstList };
}

const { tarafList: HANDIKAP_PREDICTIONS, altUstList: ALT_UST_PREDICTIONS } = formatData(RAW_DATA);


// Kupon verilerini formatlama ve gÃ¼ven/oran hesaplama
const KUPONLAR = NEW_KUPONLAR_DATA.map(kupon => {
    let minConfidence = 100;
    let matchTitles = [];
    let bets = [];
    let earliestTime = "23:59";
    // Kupon baÅŸlÄ±ÄŸÄ±ndan toplam oranÄ± alÄ±yoruz (Ã–rn: (2.93))
    const totalOddMatch = kupon.title.match(/\(([\d\.]+)\)$/);
    const totalOdd = totalOddMatch ? parseFloat(totalOddMatch[1]) : 1.0; 

    kupon.matches.forEach(match => {
        minConfidence = Math.min(minConfidence, match.confidence);
        matchTitles.push(match.title);
        // Kupon listesinde Alt/Ãœst tahminlerinin baremle yazÄ±lmasÄ± iÃ§in tam tahmin adÄ±nÄ± alÄ±yoruz.
        // Tekli tahmin listesinden barem bilgisini bulup eklememiz lazÄ±m, ancak kupon verisinde sadece "Ev/Ãœst/Alt" var.
        // Kupon verisinde sadece temel tahmin olduÄŸu iÃ§in, Alt/Ãœst olanlara parantezli baremi manuel ekleyelim
        let betText = match.bet;
        if (betText === "Alt" || betText === "Ãœst") {
            // MaÃ§Ä±n barem bilgisini RAW_DATA'dan bulalÄ±m.
            const rawMatch = RAW_DATA.find(r => r[1] === match.title);
            if (rawMatch) {
                const barem = rawMatch[7]; // Barem SayÄ± sÃ¼tunu
                betText = `${match.bet} (${barem})`;
            }
        }
        bets.push(betText);

        if (match.time < earliestTime) {
            earliestTime = match.time;
        }
    });

    return {
        title: kupon.title,
        risk: getRisk(minConfidence), // En dÃ¼ÅŸÃ¼k gÃ¼vene gÃ¶re risk belirlenir
        confidence: minConfidence, // En dÃ¼ÅŸÃ¼k gÃ¼ven kuponun gÃ¼venidir
        totalOdd: totalOdd,
        matchTitles: matchTitles,
        bets: bets,
        earliestTime: earliestTime
    };
});


const contentEl = document.getElementById('content');
const tabs = document.querySelectorAll('.tab');

// YardÄ±mcÄ± Fonksiyon: Kuponun ilk maÃ§Ä±nÄ±n tarih ve saatini bulur
function getKuponStartTime(kupon) {
    // RAW_DATA'dan tarih bilgisini Ã§ekiyoruz (TÃ¼m maÃ§lar aynÄ± tarihli olduÄŸu varsayÄ±lÄ±r)
    const date = RAW_DATA.length > 0 ? RAW_DATA[0][0].split(' - ')[0] : DATE_INFO.split(' ')[0];
    return { date: date, time: kupon.earliestTime };
}

// Risk rengini belirleyen yardÄ±mcÄ± fonksiyon
function getRiskColor(risk) {
    if (risk.includes('DÃœÅžÃœK')) return '#28d07b'; 
    if (risk.includes('ORTA')) return '#ffd460'; 
    if (risk.includes('YÃœKSEK')) return '#ff7a00'; 
    return '#96a0b5';
}

// TEMEL KART OLUÅžTURMA Ä°ÅžLEVÄ° (Taraf ve Alt/Ãœst iÃ§in)
function createMatchCardHtml(match, betType) {
    const oddTypeText = betType === 'handikap' ? 'Taraf (MS) OranÄ±' : 'Alt/Ãœst OranÄ±';
    const riskColor = getRiskColor(match.risk);
    const confidenceWidth = match.confidence;
    
    // Kupon verisinden gelen barem bilgisini ayÄ±rÄ±yoruz.
    let betDisplay = match.bet;
    let betPrefix = (betDisplay === "Ev" || betDisplay === "Dep") ? `Tercih: ${betDisplay}` : `Tahmin: ${betDisplay}`;

    if (betType === 'altust' && betDisplay.includes('(')) {
        betPrefix = `Tahmin: ${betDisplay}`;
        // Barem ve Alt/Ãœst bilgisini burada da ayÄ±rabiliriz, ama ÅŸimdilik tek satÄ±rda tutmak en pratik yol.
    }

    return `
        <div class="match-card">
            <div class="match-head">
                <div>
                    <div class="match-title">${match.title}</div>
                    <span class="match-datetime">${match.date} ${match.time} (UTC+3)</span>
                </div>
                <div class="risk-ev-wrap">
                    <div class="risk-text">
                        Risk: <span class="risk-dot" style="background-color:${riskColor};"></span> ${match.risk}
                    </div>
                </div>
            </div>
            <div class="bet-preference">Robot ${betPrefix}</div>
            <div class="bet">
                <div class="type">${oddTypeText}</div>
                <div class="odd">${match.odd.toFixed(2)}</div>
                <div class="muted-small">Tavsiye edilen bahis tercihi</div>
                <div class="progress-wrap">
                    <div class="progress-bar" style="width:${confidenceWidth}%;"></div>
                </div>
                <div class="confidence-row">
                    <span>GÃ¼ven DÃ¼zeyi:</span>
                    <span>%${match.confidence}</span>
                </div>
            </div>
        </div>
    `;
}

// Taraf Tahmini Ä°Ã§eriÄŸi OluÅŸturma
function renderHandikap() {
    let html = '';
    HANDIKAP_PREDICTIONS.forEach(match => {
        html += createMatchCardHtml(match, 'handikap');
    });
    contentEl.innerHTML = html;
}

// Alt/Ãœst Tahmini Ä°Ã§eriÄŸi OluÅŸturma
function renderAltUst() {
    let html = '';
    ALT_UST_PREDICTIONS.forEach(match => {
        html += createMatchCardHtml(match, 'altust');
    });
    contentEl.innerHTML = html;
}


// Kuponlar Ä°Ã§eriÄŸi OluÅŸturma 
function renderKuponlar() {
    let html = '';
    KUPONLAR.forEach(kupon => {
        const riskColor = getRiskColor(kupon.risk);
        const confidenceWidth = kupon.confidence;
        const kuponStartTime = getKuponStartTime(kupon); 
        
        let predictionsHtml = kupon.matchTitles.map((title, index) => {
            const bet = kupon.bets[index];
            return `<div>${title}: **${bet}**</div>`;
        }).join('');

        html += `
            <div class="match-card">
                <div class="kupon-card-content">
                    <div class="match-title" style="margin-bottom: 5px;">${kupon.title}</div>
                    <div class="kupon-date-time">Ä°lk MaÃ§ Saati: ${kuponStartTime.date} ${kuponStartTime.time} (UTC+3)</div> 
                    
                    <div class="kupon-risk-indicator">
                        <div class="risk-text">
                            Risk: <span class="risk-dot" style="background-color:${riskColor};"></span> ${kupon.risk}
                        </div>
                    </div>
                    
                    <div class="kupon-predictions">
                        ${predictionsHtml}
                    </div>

                    <div class="bet" style="width: 100%; text-align: center;">
                        <div class="type">Toplam Oran</div>
                        <div class="odd">${kupon.totalOdd.toFixed(2)}</div>
                        <div class="muted-small">Robot Tahmini Kombinesi</div>
                        <div class="progress-wrap">
                            <div class="progress-bar" style="width:${confidenceWidth}%;"></div>
                        </div>
                        <div class="kupon-confidence-row">
                            <span>Kupon GÃ¼ven DÃ¼zeyi:</span>
                            <span>%${kupon.confidence}</span>
                        </div>
                    </div>
                </div>
            </div>
        `;
    });
    contentEl.innerHTML = html;
}

// Sekme deÄŸiÅŸtirme iÅŸlevi
function setActiveTab(tabName) {
    tabs.forEach(tab => {
        tab.classList.remove('active');
        if (tab.getAttribute('data-tab') === tabName) {
            tab.classList.add('active');
        }
    });

    switch (tabName) {
        case 'handikap':
            renderHandikap();
            break;
        case 'altust':
            renderAltUst();
            break;
        case 'kuponlar':
            renderKuponlar();
            break;
        default:
            renderHandikap();
    }
}

// Olay dinleyicilerini ekle
tabs.forEach(tab => {
    tab.addEventListener('click', () => {
        setActiveTab(tab.getAttribute('data-tab'));
    });
});

// BaÅŸlangÄ±Ã§ta varsayÄ±lan sekmeyi yÃ¼kle
setActiveTab('handikap'); 

</script>
</body>
</html>
