<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="robots" content="noindex, nofollow"> 
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>BasketbolAi - Tahminler</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0f1720;
    --panel:#0b1620;
    --card-bg:#0f2230;
    --accent-start:#7b2ff7;
    --accent-end:#3b8dff;
    --orange:#ff7a00;
    --tech-blue:#3ba4ff;
    --success:#28d07b;
    --warning:#ffd460;
    --muted:#96a0b5;
    --text:#e6eef8;
    --radius:18px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:'Inter',system-ui,Segoe UI,Roboto,-apple-system,Helvetica,Arial;
    background: linear-gradient(180deg, rgba(23,12,37,0.9), rgba(12,12,20,1));
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-smoothing:grayscale;
    padding:18px;
    display:flex;justify-content:center;
  }
  .container{
    width:100%;
    max-width:420px;
    border-radius:26px;
    overflow:hidden;
    background:linear-gradient(90deg,var(--accent-start),var(--accent-end));
    padding:14px;
    box-shadow:0 10px 30px rgba(0 0,0,0.6);
  }
  .inner{
    border-radius:16px;
    /* BASKETBOL DOKUNUŞU: PARKET ZEMİN ETKİSİ */
    background: 
      /* Yatay ve dikey çizgiler (çok ince, koyu kahverengi) */
      repeating-linear-gradient(90deg, #111e2b, #111e2b 1px, transparent 1px, transparent 100px),
      repeating-linear-gradient(0deg, #111e2b, #111e2b 1px, transparent 1px, transparent 100px),
      /* Ana Koyu Tema Rengi */
      var(--panel); 
    background-blend-mode: overlay; 
    background-size: 100% 100%, 100% 100%, 100% 100%;
    
    padding:14px;
  }
  .header{
    display:flex;
    flex-direction: column; 
    align-items:center;
    justify-content:center; 
    margin-bottom:12px;
  }
  .title{
    font-weight:800;
    font-size:18px; 
    line-height:1.2;
    color:var(--text);
    white-space: nowrap; 
    margin-bottom: 4px; 
  }
  .powered-by-ai {
    font-size: 12px; 
    font-weight: 600;
    color: var(--tech-blue); 
    opacity: 0.8;
  }
  /* SEKME DÜZENLEMESİ */
  .tabs{display:flex;gap:6px;margin:14px 0; justify-content: space-between;} 
  .tab{
    flex:1;padding:10px 6px;border-radius:12px;text-align:center;font-weight:700;cursor:pointer;font-size:12px; 
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    color:var(--text);
    white-space: nowrap; 
    min-width: 0; 
  }
  .tab.active{box-shadow:0 6px 18px rgba(0,0,0,0.6); border:2px solid rgba(255,255,255,0.03)}
  .content{padding-bottom:18px}
  .match-card{
    background:var(--card-bg);border-radius:12px;padding:12px;margin-bottom:12px;border:1px solid rgba(255,255,255,0.02)
  }
  .match-head{display:flex;justify-content:space-between;align-items:flex-start;gap:8px;margin-bottom:12px}
  .match-title{font-weight:700;font-size:16px}
  
  /* GÜNCELLENEN VE İSTENEN TARİH/SAAT STİLİ */
  .match-datetime {
    font-weight: 800; 
    color: var(--warning); 
    font-size: 14px; 
    display: block; 
    margin-top: 4px;
    margin-bottom: 6px; 
  }
  /* BAREM SAYILARI İÇİN YENİ STİL */
  .barem-text {
      font-size: 14px;
      font-weight: 700;
      color: var(--muted);
      margin-top: 8px;
  }
  .barem-sayi {
      color: var(--orange);
      font-weight: 800;
      margin-left: 5px;
  }
  /* GÜNCELLENEN TARİH/SAAT STİLİ BİTİŞ */

  .risk-ev-wrap{display:flex;flex-direction:column;align-items:flex-end;gap:4px;}
  .risk-text{font-size:12px;color:var(--muted);display:flex;align-items:center;gap:6px;} 
  .risk-dot{width:10px;height:10px;border-radius:50%;display:inline-block;}
  .bet-preference{font-weight:700;color:var(--accent-end);font-size:14px;margin-top:8px;}
  .bet{
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.1));
    border-radius:10px;padding:12px;margin-top:8px;border:1px solid rgba(255,255,255,0.02)
  }
  .bet .type{font-weight:700;color:var(--accent-start);font-size:13px;margin-bottom:8px}
  .bet .odd{font-size:28px;font-weight:800;margin-bottom:6px;color:var(--warning);}
  .muted-small{color:var(--muted);font-size:13px}
  .progress-wrap{background:rgba(255,255,255,0.04);height:10px;border-radius:999px;margin-top:12px;overflow:hidden}
  .progress-bar{height:100%;width:0%;background:linear-gradient(90deg,var(--success),#12b76a);transition:width 600ms ease}
  .confidence-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px;color:var(--muted);font-size:13px}
  /* Başarı Oranları için CSS */
  .success-rates{
    display:flex;
    justify-content: space-between;
    align-items: center; 
    margin-top: 10px; 
  }
  .success-rate-item{
      flex: 1; 
      min-width: 45%; 
  }
  .success-rate-item:nth-child(2){
      text-align: right; 
  }
  /* Kupon kartı için özel düzenleme */
  .kupon-card-content {
      display: flex;
      flex-direction: column;
      align-items: center; 
  }
  .kupon-risk-indicator {
      margin-bottom: 20px;
  }
  .kupon-predictions {
      width: 100%;
      text-align: left; 
      font-size: 14px; 
      font-weight: 600;
      margin-bottom: 20px;
      line-height: 1.8;
      padding-left: 12px; 
      padding-right: 12px; 
  }
  .kupon-predictions > div {
      display: block;
      overflow-wrap: break-word; 
      color: var(--warning); 
  }
  .kupon-confidence-row {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--muted);
      font-size: 13px;
      padding-top: 8px;
  }
  /* Eklenen Total/Alt-Üst Listesi Kartı Stili */
  .total-card{
      display: flex;
      flex-direction: column; 
      align-items: flex-start; 
      padding: 10px;
      margin-bottom: 8px;
      background: rgba(255,255,255,0.03); 
      border-radius: 8px;
      border-left: 4px solid var(--accent-end);
  }
  .total-card-match-info{
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-bottom: 4px;
  }
  .total-card-match{
      flex: 1;
      font-weight: 600;
      font-size: 14px; 
  }
  .total-card-datetime {
      font-size: 13px; 
      color: var(--warning); 
      font-weight: 700; 
      white-space: nowrap;
      margin-left: 10px;
  }
  .total-card-bet{
      font-weight: 800;
      color: var(--success); 
      white-space: nowrap; 
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px; 
  }
  /* ALT/ÜST HEADER DÜZENLENDİ */
  .alt-ust-header {
    font-weight: 700;
    color: var(--muted);
    font-size: 14px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
  }
  /* MAÇ VE TAHMİN başlığı için */
  .alt-ust-header span:nth-child(1) {
    flex: 1; 
  }
  .alt-ust-header span:nth-child(2) {
    width: 65px; 
    text-align: right;
  }
  /* SİSTEM ONLİNE GÖSTERGESİ */
  @keyframes pulse-online {
    0% { box-shadow: 0 0 0 0 rgba(40, 208, 123, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(40, 208, 123, 0); }
    100% { box-shadow: 0 0 0 0 rgba(40, 208, 123, 0); }
  }
  .system-online-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    justify-content: flex-end; 
  }
  .online-dot {
    width: 10px;
    height: 10px;
    background-color: var(--success);
    border-radius: 50%;
    animation: pulse-online 1.5s infinite;
  }

  /* KUPON KARTI İÇİN TARİH SAAT STİLİ */
  .kupon-date-time {
    font-size: 13px; 
    color: var(--warning); 
    font-weight: 800; 
    margin-bottom: 10px;
    display: block;
    width: 100%;
    text-align: center;
  }
</style>
</head>
<body>
<div class="container" role="application" aria-label="BasketballAi WebApp">
  <div class="inner">
    <div class="header">
        <div class="title">BasketbolAi - Robot Tahminleri</div>
        <div class="powered-by-ai">Powered by AI</div>
    </div>

    <div class="success-rates"> 
      <div class="success-rate-item">
        <div style="font-size:12px;color:var(--muted)">Başarı Oranı</div>
        <div style="font-weight:800;font-size:18px;margin-top:4px">%89</div>
      </div>
      <div class="success-rate-item system-online-indicator">
        <div style="font-size:12px;color:var(--success); font-weight:700;">SİSTEM ONLİNE</div>
        <div class="online-dot"></div>
      </div>
    </div>

    <div class="tabs" role="tablist" aria-label="Ana Sekmeler">
      <div class="tab" data-tab="ms">🏀 MS Tahminleri</div> 
      <div class="tab" data-tab="altust">📊 Alt/Üst</div> 
      <div class="tab" data-tab="kuponlar">🔥 Kuponlar</div> 
    </div>

    <div class="content" id="content">
      </div>

  </div>
</div>

<script>
// *** TUTARLILIK İÇİN TEK ANA MAÇ LİSTESİ - TÜMÜ 15 EKİM ÇARŞAMBA ***
const MATCHES = [
    // Yeni Veri Yapısı: ..., msOdd, risk, handikapBaremi, altUstBaremi
    // Not: Barem sayıları (Handikap Baremi ve Alt/Üst Baremi) tahmini olarak eklenmiştir.

    // 15.10.2025 Maçları
    { title: "Sh. Susanoo - Saga Ballooners", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Üst", altUstConfidence: 85, altUstOdd: 1.60, msBet: "MS1", msConfidence: 90, msOdd: 1.15, risk: "düşük", handikapBaremi: "-6.5", altUstBaremi: "168.5" },
    { title: "Gunma Crane - Levanga Hokkaido", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Üst", altUstConfidence: 88, altUstOdd: 1.63, msBet: "MS1", msConfidence: 92, msOdd: 1.12, risk: "düşük", handikapBaremi: "-7.5", altUstBaremi: "165.5" },
    { title: "Utsunomiya Brex - Chiba Jets", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.59, msBet: "MS1", msConfidence: 65, msOdd: 1.67, risk: "yüksek", handikapBaremi: "-2.5", altUstBaremi: "155.5" },
    { title: "Shiga Lake Stars - R.G.K.Okinawa", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.62, msBet: "MS2", msConfidence: 85, msOdd: 1.05, risk: "düşük", handikapBaremi: "+12.5", altUstBaremi: "161.5" },
    { title: "San-En Neophoenix - Altiri Chiba", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Üst", altUstConfidence: 90, altUstOdd: 1.65, msBet: "MS1", msConfidence: 95, msOdd: 1.11, risk: "düşük", handikapBaremi: "-8.5", altUstBaremi: "172.5" },
    { title: "Yokohama B Corsairs - Koshigaya Alpha", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Üst", altUstConfidence: 80, altUstOdd: 1.62, msBet: "MS1", msConfidence: 92, msOdd: 1.14, risk: "düşük", handikapBaremi: "-5.5", altUstBaremi: "174.5" },
    { title: "Toyama Grous - Diamond Dolphins", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Alt", altUstConfidence: 75, altUstOdd: 1.65, msBet: "MS2", msConfidence: 88, msOdd: 1.06, risk: "düşük", handikapBaremi: "+10.5", altUstBaremi: "159.5" },
    { title: "Kyoto Hannarizu - Hiroshima Dr.", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Üst", altUstConfidence: 70, altUstOdd: 1.65, msBet: "MS2", msConfidence: 80, msOdd: 1.26, risk: "orta", handikapBaremi: "+4.5", altUstBaremi: "163.5" },
    { title: "Fighting Eagle - Osaka Evessa", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.59, msBet: "MS1", msConfidence: 65, msOdd: 1.59, risk: "yüksek", handikapBaremi: "-1.5", altUstBaremi: "157.5" },
    { title: "Nagasaki Velca - Aisin Seahorses", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.68, msBet: "MS1", msConfidence: 70, msOdd: 1.39, risk: "orta", handikapBaremi: "-3.5", altUstBaremi: "162.5" },
    { title: "Brave Thunders - Sendai 89ers", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.63, msBet: "MS1", msConfidence: 68, msOdd: 1.80, risk: "yüksek", handikapBaremi: "-0.5", altUstBaremi: "158.5" },
    { title: "Tasmania J. - Sydney Kings", date: "15 Ekim Çarşamba", time: "11:30", altUstBet: "Üst", altUstConfidence: 85, altUstOdd: 1.70, msBet: "MS1", msConfidence: 75, msOdd: 1.80, risk: "orta", handikapBaremi: "-1.5", altUstBaremi: "180.5" },
    { title: "Meralco - Blackwater", date: "15 Ekim Çarşamba", time: "12:15", altUstBet: "Üst", altUstConfidence: 90, altUstOdd: 1.70, msBet: "MS1", msConfidence: 95, msOdd: 1.16, risk: "düşük", handikapBaremi: "-7.5", altUstBaremi: "192.5" },
    { title: "LG Sakers - Anyang KGC", date: "15 Ekim Çarşamba", time: "13:00", altUstBet: "Alt", altUstConfidence: 55, altUstOdd: 1.57, msBet: "MS1", msConfidence: 60, msOdd: 1.28, risk: "yüksek", handikapBaremi: "-3.5", altUstBaremi: "155.5" },
    { title: "Alvark Tokyo - Akita Northern H.", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.60, msBet: "MS1", msConfidence: 65, msOdd: 1.45, risk: "yüksek", handikapBaremi: "-3.5", altUstBaremi: "150.5" },
    { title: "Ibaraki Robots - SR Shibuya", date: "15 Ekim Çarşamba", time: "13:05", altUstBet: "Üst", altUstConfidence: 85, altUstOdd: 1.68, msBet: "MS2", msConfidence: 90, msOdd: 1.10, risk: "düşük", handikapBaremi: "+8.5", altUstBaremi: "170.5" },
    { title: "Perth W. - Brisbane Bullets", date: "15 Ekim Çarşamba", time: "13:30", altUstBet: "Üst", altUstConfidence: 95, altUstOdd: 1.69, msBet: "MS1", msConfidence: 98, msOdd: 1.06, risk: "düşük", handikapBaremi: "-8.5", altUstBaremi: "185.5" },
    { title: "TNT Katropa - Barangay Ginebra", date: "15 Ekim Çarşamba", time: "14:30", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.56, msBet: "MS1", msConfidence: 65, msOdd: 1.47, risk: "yüksek", handikapBaremi: "-2.5", altUstBaremi: "178.5" },
    { title: "Parma Permsk - L. Kuban", date: "15 Ekim Çarşamba", time: "17:30", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.59, msBet: "MS2", msConfidence: 70, msOdd: 2.28, risk: "orta", handikapBaremi: "+2.5", altUstBaremi: "148.5" },
    { title: "Petkim Spor - Csm Corona Brasov", date: "15 Ekim Çarşamba", time: "18:00", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.60, msBet: "MS2", msConfidence: 50, msOdd: 6.19, risk: "yüksek", handikapBaremi: "+8.5", altUstBaremi: "152.5" },
    { title: "BC Kutaisi - Basket Brno", date: "15 Ekim Çarşamba", time: "18:00", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.62, msBet: "MS1", msConfidence: 65, msOdd: 1.75, risk: "yüksek", handikapBaremi: "-1.5", altUstBaremi: "158.5" },
    { title: "Lietkabelis - Ulm", date: "15 Ekim Çarşamba", time: "19:00", altUstBet: "Alt", altUstConfidence: 55, altUstOdd: 1.70, msBet: "MS1", msConfidence: 60, msOdd: 1.71, risk: "yüksek", handikapBaremi: "-1.5", altUstBaremi: "163.5" },
    { title: "Sabah Baku - Alba Berlin", date: "15 Ekim Çarşamba", time: "19:00", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.59, msBet: "MS2", msConfidence: 85, msOdd: 3.95, risk: "düşük", handikapBaremi: "+4.5", altUstBaremi: "145.5" },
    { title: "CSM Oradea - AEK Larnaca", date: "15 Ekim Çarşamba", time: "19:00", altUstBet: "Alt", altUstConfidence: 75, altUstOdd: 1.63, msBet: "MS2", msConfidence: 90, msOdd: 1.64, risk: "düşük", handikapBaremi: "+1.5", altUstBaremi: "154.5" },
    { title: "CS Valcea 1924 - Rasta Vechta", date: "15 Ekim Çarşamba", time: "19:00", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.65, msBet: "MS2", msConfidence: 70, msOdd: 1.33, risk: "orta", handikapBaremi: "+4.5", altUstBaremi: "157.5" },
    { title: "AEK Athens - Szolnoki Olaj K.", date: "15 Ekim Çarşamba", time: "19:30", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.59, msBet: "MS2", msConfidence: 85, msOdd: 1.59, risk: "düşük", handikapBaremi: "+2.5", altUstBaremi: "156.5" },
    { title: "Start Lublin - KK Bosna Royal", date: "15 Ekim Çarşamba", time: "19:30", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.67, msBet: "MS1", msConfidence: 65, msOdd: 1.37, risk: "yüksek", handikapBaremi: "-3.5", altUstBaremi: "159.5" },
    { title: "Braunschweig - A. Wloclawek", date: "15 Ekim Çarşamba", time: "19:30", altUstBet: "Alt", altUstConfidence: 55, altUstOdd: 1.66, msBet: "MS1", msConfidence: 60, msOdd: 1.66, risk: "yüksek", handikapBaremi: "-1.5", altUstBaremi: "161.5" },
    { title: "Bakken Bears - Anorthosis Fam.", date: "15 Ekim Çarşamba", time: "19:30", altUstBet: "Alt", altUstConfidence: 75, altUstOdd: 1.63, msBet: "MS2", msConfidence: 90, msOdd: 1.64, risk: "düşük", handikapBaremi: "+1.5", altUstBaremi: "154.5" },
    { title: "Panionios - Bourg", date: "15 Ekim Çarşamba", time: "19:30", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.71, msBet: "MS2", msConfidence: 65, msOdd: 1.26, risk: "yüksek", handikapBaremi: "+4.5", altUstBaremi: "165.5" },
    { title: "CSKA Moskova - N. Novgorod", date: "15 Ekim Çarşamba", time: "19:30", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.65, msBet: "MS2", msConfidence: 90, msOdd: 1.56, risk: "düşük", handikapBaremi: "+2.5", altUstBaremi: "162.5" },
    { title: "Heidelberg - Rytas Vilnius", date: "15 Ekim Çarşamba", time: "19:30", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.59, msBet: "MS2", msConfidence: 70, msOdd: 1.38, risk: "orta", handikapBaremi: "+3.5", altUstBaremi: "158.5" },
    { title: "Slask Wroclaw - Cluj Napoca", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.68, msBet: "MS2", msConfidence: 65, msOdd: 1.36, risk: "yüksek", handikapBaremi: "+3.5", altUstBaremi: "156.5" },
    { title: "Beşiktaş - Chemnitz", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 55, altUstOdd: 1.56, msBet: "MS1", msConfidence: 95, msOdd: 1.11, risk: "düşük", handikapBaremi: "-6.5", altUstBaremi: "159.5" },
    { title: "Reyer Venezia - Neptunas", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.69, msBet: "MS1", msConfidence: 90, msOdd: 1.15, risk: "düşük", handikapBaremi: "-5.5", altUstBaremi: "155.5" },
    { title: "Legia Warsz. - Promitheas", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.71, msBet: "MS1", msConfidence: 70, msOdd: 1.40, risk: "orta", handikapBaremi: "-2.5", altUstBaremi: "161.5" },
    { title: "Zaragoza - F. Szombathely", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.64, msBet: "MS2", msConfidence: 85, msOdd: 1.63, risk: "düşük", handikapBaremi: "+2.5", altUstBaremi: "150.5" },
    { title: "Dijon - Reggiana", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.65, msBet: "MS1", msConfidence: 80, msOdd: 1.19, risk: "orta", handikapBaremi: "-4.5", altUstBaremi: "153.5" },
    { title: "BC Prievidza - Keravnos", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 55, altUstOdd: 1.63, msBet: "MS1", msConfidence: 95, msOdd: 1.05, risk: "düşük", handikapBaremi: "-7.5", altUstBaremi: "148.5" },
    { title: "Kk Cedevita Zag. - Pelister Bitola", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.65, msBet: "MS1", msConfidence: 70, msOdd: 1.25, risk: "orta", handikapBaremi: "-3.5", altUstBaremi: "151.5" },
    { title: "USK Prag (K) - UNI Girona (K)", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.67, msBet: "MS2", msConfidence: 85, msOdd: 1.60, risk: "düşük", handikapBaremi: "+2.5", altUstBaremi: "145.5" },
    { title: "Flammes (K) - G.Saray (K)", date: "15 Ekim Çarşamba", time: "20:00", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.63, msBet: "MS1", msConfidence: 75, msOdd: 1.78, risk: "orta", handikapBaremi: "-1.5", altUstBaremi: "138.5" },
    { title: "PAOK - KB Trepca", date: "15 Ekim Çarşamba", time: "20:15", altUstBet: "Alt", altUstConfidence: 60, altUstOdd: 1.66, msBet: "MS2", msConfidence: 70, msOdd: 1.60, risk: "orta", handikapBaremi: "+2.5", altUstBaremi: "155.5" },
    { title: "Trefl Sopot - Neftchi IK", date: "15 Ekim Çarşamba", time: "21:00", altUstBet: "Alt", altUstConfidence: 70, altUstOdd: 1.63, msBet: "MS2", msConfidence: 85, msOdd: 1.64, risk: "düşük", handikapBaremi: "+2.5", altUstBaremi: "157.5" },
    { title: "Panathinaikos - Asvel", date: "15 Ekim Çarşamba", time: "21:15", altUstBet: "Alt", altUstConfidence: 65, altUstOdd: 1.70, msBet: "MS2", msConfidence: 90, msOdd: 1.57, risk: "düşük", handikapBaremi: "+3.5", altUstBaremi: "150.5" },
];

// Kupon toplam oran hesaplama fonksiyonu (Kupondaki tüm tahminlerin oranlarının çarpımı)
function calculateTotalOdd(kupon) {
    let totalOdd = 1.0;
    
    // Kupondaki her bir bahsi gez
    kupon.matchTitles.forEach((matchTitle, index) => {
        const match = MATCHES.find(m => m.title === matchTitle);
        if (!match) return;

        const betStr = kupon.bets[index];
        
        // Basitçe: Eğer Alt veya Üst içeriyorsa Alt/Üst oranını kullan, aksi halde MS oranını kullan.
        if (betStr.includes("Alt") || betStr.includes("Üst")) {
            totalOdd *= match.altUstOdd;
        } else {
            totalOdd *= match.msOdd;
        }
    });

    return totalOdd;
}


const KUPONLAR = [
    {
        title: "1️⃣ PREMIUM KUPON - Yüksek Güven (3 MAÇ)",
        risk: "düşük", 
        confidence: 90, 
        matchTitles: [
            "San-En Neophoenix - Altiri Chiba", 
            "Meralco - Blackwater", 
            "Perth W. - Brisbane Bullets",
        ],
        bets: [
            "San-En Neophoenix - Altiri Chiba: Üst (1.65)", 
            "Meralco - Blackwater: MS1 (1.16)",             
            "Perth W. - Brisbane Bullets: Üst (1.69)",      
        ],
        // Total Oran: 1.65 * 1.16 * 1.69 = 3.23076
        totalOdd: 3.23076, 
    },
    {
        title: "2️⃣ STANDART KUPON - Dengeli (3 MAÇ)",
        risk: "orta", 
        confidence: 78,
        matchTitles: [
            "Sh. Susanoo - Saga Ballooners", 
            "Gunma Crane - Levanga Hokkaido", 
            "Nagasaki Velca - Aisin Seahorses",
        ],
        bets: [
            "Sh. Susanoo - Saga Ballooners: Üst (1.60)", 
            "Gunma Crane - Levanga Hokkaido: Üst (1.63)",
            "Nagasaki Velca - Aisin Seahorses: Alt (1.68)", 
        ],
        // Total Oran: 1.60 * 1.63 * 1.68 = 4.3824
        totalOdd: 4.3824, 
    },
    {
        title: "3️⃣ YÜKSEK ORAN KUPON - Yüksek Risk (3 MAÇ)",
        risk: "yüksek", 
        confidence: 70, 
        matchTitles: [
            "Petkim Spor - Csm Corona Brasov", 
            "Sabah Baku - Alba Berlin",
            "Parma Permsk - L. Kuban", 
        ],
        bets: [
            "Petkim Spor - Csm Corona Brasov: MS2 (6.19)", 
            "Sabah Baku - Alba Berlin: MS2 (3.95)",        
            "Parma Permsk - L. Kuban: MS2 (2.28)",         
        ],
        // Total Oran: 6.19 * 3.95 * 2.28 = 55.77666
        totalOdd: 55.77666, 
    },
];

// Kupon toplam oranlarını tekrar hesapla (MATCHES verisindeki oranları kullan)
KUPONLAR.forEach(kupon => {
    kupon.totalOdd = calculateTotalOdd(kupon); 
});


const contentEl = document.getElementById('content');
const tabs = document.querySelectorAll('.tab');

// Yardımcı Fonksiyon: Maç adına göre detayları bulur
function getMatchDetailsByTitle(title) {
    return MATCHES.find(m => m.title === title);
}

// Yardımcı Fonksiyon: Kuponun ilk maçının tarih ve saatini bulur
function getKuponStartTime(kupon) {
    if (kupon.matchTitles.length === 0) return { date: "Tarih Belirsiz", time: "Saat Belirsiz" };
    
    const matchDetails = kupon.matchTitles
        .map(title => getMatchDetailsByTitle(title))
        .filter(d => d);
    
    if (matchDetails.length > 0) {
        // HH:MM formatındaki string'leri güvenilir bir şekilde karşılaştırarak en erken saati bulur
        const earliestMatch = matchDetails.sort((a, b) => {
            // Önce saat/dakika karşılaştır
            if (a.time < b.time) return -1;
            if (a.time > b.time) return 1;
            return 0;
        })[0];
        
        return { date: earliestMatch.date, time: earliestMatch.time };
    }
    
    return { date: "Tarih Belirsiz", time: "Saat Belirsiz" };
}

// Risk rengini belirleyen yardımcı fonksiyon
function getRiskColor(risk) {
    switch (risk) {
        case 'düşük': return '#28d07b'; 
        case 'orta': return '#ffd460'; 
        case 'yüksek': return '#ff7a00'; 
        default: return '#96a0b5';
    }
}

// MS (Maç Sonucu) İçeriği Oluşturma (Handikap baremini gösterir)
function renderMS() {
    let html = '';
    // MS (Maç Sonucu) tahmin güvenine göre sıralama
    const sortedMatches = [...MATCHES].sort((a, b) => b.msConfidence - a.msConfidence); 

    sortedMatches.forEach(match => {
        const riskColor = getRiskColor(match.risk);
        const confidenceWidth = match.msConfidence;

        const resultHtml = `
            <div class="risk-ev-wrap">
                <div class="risk-text">
                    MS Risk: <span class="risk-dot" style="background-color:${riskColor};"></span> ${match.risk.toUpperCase()}
                </div>
            </div>
        `;

        html += `
            <div class="match-card">
                <div class="match-head">
                    <div>
                        <div class="match-title">${match.title}</div>
                        <span class="match-datetime">${match.date} ${match.time}</span>
                    </div>
                    ${resultHtml}
                </div>
                
                <div class="barem-text">Handikap Baremi: <span class="barem-sayi">${match.handikapBaremi}</span></div>

                <div class="bet-preference">Robot Tercihi: ${match.msBet}</div>
                <div class="bet">
                    <div class="type">MAÇ SONUCU - Tahmini Oran</div>
                    <div class="odd">${match.msOdd.toFixed(2)}</div>
                    <div class="muted-small">Tavsiye edilen MS bahis tercihi</div>
                    <div class="progress-wrap">
                        <div class="progress-bar" style="width:${confidenceWidth}%;"></div>
                    </div>
                    <div class="confidence-row">
                        <span>Güven Düzeyi:</span>
                        <span>%${match.msConfidence}</span>
                    </div>
                </div>
            </div>
        `;
    });
    contentEl.innerHTML = html;
}

// Alt/Üst İçeriği Oluşturma (Alt/Üst baremini gösterir)
function renderAltUst() {
    let html = `
        <div class="alt-ust-header">
            <span>MAÇ</span>
            <span>TAHMİN</span>
        </div>
    `;
    // Alt/Üst tahmin güvenine göre sıralama
    const sortedMatches = [...MATCHES].sort((a, b) => b.altUstConfidence - a.altUstConfidence);

    sortedMatches.forEach(match => {
        
        html += `
            <div class="total-card">
                <div class="total-card-match-info">
                    <div class="total-card-match">${match.title}</div>
                    <div class="total-card-datetime">${match.date} ${match.time}</div>
                </div>
                
                <div class="barem-text" style="margin-top: 0; font-size: 13px;">Alt/Üst Baremi: <span class="barem-sayi">${match.altUstBaremi}</span></div>

                <div class="total-card-bet" style="color:var(--success); margin-top: 8px;">
                    ${match.altUstBet} @${match.altUstOdd.toFixed(2)} 
                    <span style="font-weight: 500; color: var(--muted); margin-left: 8px;">(%${match.altUstConfidence})</span>
                </div>
            </div>
        `;
    });
    contentEl.innerHTML = html;
}

// Kuponlar İçeriği Oluşturma 
function renderKuponlar() {
    let html = '';
    KUPONLAR.forEach(kupon => {
        const riskColor = getRiskColor(kupon.risk);
        const confidenceWidth = kupon.confidence;
        const kuponStartTime = getKuponStartTime(kupon); 
        
        let predictionsHtml = kupon.bets.map((betStr) => {
            // Kupon listesindeki her bir tahmin satırını göster
            const parts = betStr.split(': ');
            const matchTitle = parts[0];
            const betDetail = parts.length > 1 ? parts[1] : betStr; 
            
            // Maç detaylarını alıp baremi ekle
            const match = getMatchDetailsByTitle(matchTitle);
            let barem = "";
            if(match) {
                // Tahmin türüne göre baremi göster (basitleştirilmiş)
                if (betStr.includes("Alt") || betStr.includes("Üst")) {
                    barem = ` (${match.altUstBaremi})`;
                } else {
                    barem = ` (${match.handikapBaremi})`;
                }
            }


            return `<div>${matchTitle}: ${betDetail}${barem}</div>`;
        }).join('');

        html += `
            <div class="match-card">
                <div class="kupon-card-content">
                    <div class="match-title" style="margin-bottom: 5px;">${kupon.title}</div>
                    <div class="kupon-date-time">İlk Maç Saati: ${kuponStartTime.date} ${kuponStartTime.time}</div> 
                    
                    <div class="kupon-risk-indicator">
                        <div class="risk-text">
                            Risk Seviyesi: <span class="risk-dot" style="background-color:${riskColor};"></span> ${kupon.risk.toUpperCase()}
                        </div>
                    </div>
                    
                    <div class="kupon-predictions">
                        ${predictionsHtml}
                    </div>

                    <div class="bet" style="width: 100%; text-align: center;">
                        <div class="type">Toplam Oran</div>
                        <div class="odd">${kupon.totalOdd.toFixed(2)}</div>
                        <div class="muted-small">Robot Tahmini Kombinesi</div>
                        <div class="progress-wrap">
                            <div class="progress-bar" style="width:${confidenceWidth}%;"></div>
                        </div>
                        <div class="kupon-confidence-row">
                            <span>Kupon Güven Düzeyi:</span>
                            <span>%${kupon.confidence}</span>
                        </div>
                    </div>
                </div>
            </div>
        `;
    });
    contentEl.innerHTML = html;
}

// Sekme değiştirme işlevi
function setActiveTab(tabName) {
    tabs.forEach(tab => {
        tab.classList.remove('active');
        if (tab.getAttribute('data-tab') === tabName) {
            tab.classList.add('active');
        }
    });

    switch (tabName) {
        case 'ms': 
            renderMS();
            break;
        case 'altust':
            renderAltUst();
            break;
        case 'kuponlar':
            renderKuponlar();
            break;
        default:
            renderMS();
    }
}

// Olay dinleyicilerini ekle
tabs.forEach(tab => {
    tab.addEventListener('click', () => {
        setActiveTab(tab.getAttribute('data-tab'));
    });
});

// Başlangıçta varsayılan sekmeyi yükle
setActiveTab('ms'); 

</script>
</body>
</html>
